<!-- index.html（最終完整版本）-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>48 Ticket Generator</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" />
  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      background: #fff;
      margin: 0;
      padding: 0;
    }
    body.dark {
      background: #111;
      color: #eee;
    }
    canvas {
      border: 1px solid #ccc;
      background: #fff;
      transform-origin: top left;
      display: block;
      margin: 1em auto;
    }
    .tabs {
      display: flex;
      margin-top: 1em;
      justify-content: center;
      gap: 1em;
    }
    .tab-btn {
      padding: 0.5em 1em;
      border: none;
      background: #f676a6;
      color: #fff;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
    .tab-content {
      display: none;
      max-width: 900px;
      margin: 1em auto;
    }
    .tab-content.active {
      display: block;
    }
    .form-group {
      margin-bottom: 0.5em;
    }
    label {
      font-weight: bold;
    }
    input[type="text"], input[type="color"], input[type="number"], textarea, select {
      width: 100%;
      padding: 0.4em;
      margin-top: 0.2em;
      font-size: 1em;
    }
    .section {
      padding: 1em;
      background: #f0f0f0;
      margin-bottom: 1em;
      border-radius: 8px;
    }
    .control-row {
      display: flex;
      gap: 1em;
    }
    #memberInfo {
      margin-top: 1em;
      text-align: center;
    }
    #memberInfo img {
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1 style="text-align:center;">🎟️ 48 Ticket Generator</h1>

  <!-- Preview Zone -->
  <div style="text-align:center;">
    <label data-i18n="preview_zoom">Preview Size:</label>
    <select id="previewZoom">
      <option value="0.5">50%</option>
      <option value="0.75">75%</option>
      <option value="1" selected>100%</option>
      <option value="1.5">150%</option>
      <option value="2">200%</option>
    </select>
  </div>

  <canvas id="ticket" width="1843" height="839"></canvas>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab-btn" data-target="tab-basic" data-i18n="simple_mode">簡易設定</button>
    <button class="tab-btn" data-target="tab-advanced" data-i18n="advanced_mode">詳細設定</button>
    <button class="tab-btn" data-target="tab-theme" data-i18n="label_apply_theme">テーマ設定</button>
    <button class="tab-btn" data-target="tab-export" data-i18n="tab_export">出力</button>
  </div>
<!-- Tab: Basic -->
<div class="tab-content active" id="tab-basic">
  <div class="section">
    <div class="form-group">
      <label data-i18n="label_logo_line1">標誌文字（第1行）</label>
      <input type="text" id="rect1Line1" value="YSS" />
    </div>
    <div class="form-group">
      <label data-i18n="label_logo_line2">標誌文字（第2行）</label>
      <input type="text" id="rect1Line2" value="48" />
    </div>
    <div class="form-group">
      <label data-i18n="label_event">演出</label>
      <input type="text" id="text2" value="「ここからだ」 公演" />
    </div>
    <div class="form-group">
      <label data-i18n="label_birthday_line1">生日祭（第1行）</label>
      <input type="text" id="text3Line1" value="秋元康 生誕祭" />
    </div>
    <div class="form-group">
      <label data-i18n="label_birthday_line2">生日祭（第2行）</label>
      <input type="text" id="text3Line2" value="YSS48劇場" />
    </div>
    <div class="form-group">
      <label data-i18n="label_date_line1">日期（第1行）</label>
      <input type="text" id="text4Line1" value="＜日付＞2025年05月02日（金）" />
    </div>
    <div class="form-group">
      <label data-i18n="label_date_line2">日期（第2行）</label>
      <input type="text" id="text4Line2" value="OPEN：18時10分       START：18時30分      ￥3,400" />
    </div>
    <div class="form-group">
      <label data-i18n="label_number">整理番号</label>
      <input type="text" id="text5" value="048番" />
    </div>
    <div class="form-group">
      <label data-i18n="label_postal">郵便番号</label>
      <input type="text" id="text6" value="① ❘ 000－0000 ❘ ゴメン先生 様" />
    </div>
    <div class="form-group">
      <label data-i18n="label_extra">其他</label>
      <input type="text" id="text10" value="&lt;主催 ‧ お問い合せ&gt;" />
    </div>
    <div class="form-group">
      <label data-i18n="label_venue">會場名</label>
      <input type="text" id="text11" value="YSS48 Theater" />
    </div>
    <div class="form-group">
      <label data-i18n="label_tel">電話番号</label>
      <input type="text" id="text12" value="TEL:01-2345-6789" />
    </div>
    <div class="form-group">
      <label data-i18n="label_bgtext">背景文字</label>
      <input type="text" id="bgText" value="YASUSHI" />
    </div>
  </div>
</div>
<!-- Tab: Advanced -->
<div class="tab-content" id="tab-advanced">
  <div class="section">
    <div class="form-group">
      <label data-i18n="label_logo_color">標誌文字顏色</label>
      <input type="color" id="logoColor" value="#ffffff" />
    </div>
    <div class="form-group">
      <label data-i18n="label_logo_bg">標誌背景色</label>
      <input type="color" id="logoBg" value="#0071bc" />
    </div>
    <div class="form-group">
      <label data-i18n="label_color">文字顏色</label>
      <input type="color" id="textColor" value="#000000" />
    </div>
    <div class="form-group">
      <label data-i18n="label_background">整體背景色</label>
      <input type="color" id="bgColor" value="#ffffff" />
    </div>
    <div class="form-group">
      <label data-i18n="label_bgtext_color">背景文字顏色</label>
      <input type="color" id="bgTextColor" value="#eeeeee" />
    </div>
    <div class="form-group">
      <label data-i18n="label_shadow_color">背景陰影顏色</label>
      <input type="color" id="bgShadowColor" value="#cccccc" />
    </div>
    <div class="form-group">
      <label data-i18n="label_border">邊框背景色</label>
      <input type="color" id="borderColor" value="#f6c6d0" />
    </div>
    <div class="form-group">
      <label data-i18n="label_border_text_color">邊框文字顏色</label>
      <input type="color" id="borderTextColor" value="#000000" />
    </div>
    <div class="form-group">
      <label data-i18n="label_upload_font">上傳字體 (.woff2)</label>
      <input type="file" id="fontFile" accept=".woff2" />
    </div>
    <div class="form-group">
      <label data-i18n="label_upload_bgimg">上傳背景圖片</label>
      <input type="file" id="bgImage" accept="image/*" />
    </div>
  </div>
</div>
<!-- Tab: Theme -->
<div class="tab-content" id="tab-theme">
  <div class="section">
    <div class="form-group">
      <label data-i18n="label_select_member">成員選擇</label>
      <select id="memberSelect"></select>
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="applyTheme" checked /> <span data-i18n="label_apply_theme">套用主題色</span></label>
    </div>
    <div id="memberInfo"></div>
  </div>
</div>
<!-- Tab: Export -->
<div class="tab-content" id="tab-export">
  <div class="section">
    <div class="form-group">
      <label data-i18n="label_qr_input">QR Code 網址</label>
      <input type="text" id="qrUrl" placeholder="https://example.com" />
    </div>
    <div class="form-group">
      <label data-i18n="label_upload_qr">或上傳 QR 圖片</label>
      <input type="file" id="qrImage" accept="image/*" />
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="showQR" checked /> <span data-i18n="label_show_qr">顯示 QR 碼框</span></label>
    </div>
    <div class="form-group">
      <label data-i18n="label_qr_color">QR 框顏色</label>
      <input type="color" id="qrColor" value="#000000" />
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="bleed" /> <span data-i18n="label_bleed">包含出血位（3mm）</span></label>
    </div>
    <div class="control-row">
      <button id="download300" data-i18n="download_300dpi">下載 PNG（300DPI）</button>
      <button id="download70" data-i18n="download_70dpi">下載 PNG（70DPI）</button>
      <button id="downloadPDF" data-i18n="download_pdf">下載 PDF</button>
    </div>
  </div>
</div>
<!-- Footer 控制列 -->
<div style="text-align:center; margin:2em;">
  <label><input type="checkbox" id="darkToggle" /> <span data-i18n="label_darkmode">夜間模式</span></label>
  &nbsp;&nbsp;
  <label data-i18n="label_lang">語言：</label>
  <select id="langSelect">
    <option value="ja">日本語</option>
    <option value="en">English</option>
    <option value="zh-TW">繁體中文</option>
  </select>
</div>

<!-- 套件與腳本 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="script.js"></script>
</body>
</html>
